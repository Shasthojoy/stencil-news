/*! Built with http://stenciljs.com */

App.defineComponents("04uq3upfrrsb",function(e,t,n,i,o){var r=function(){function e(){}return e.prototype.render=function(){return t("header",0,n("StencilNews"))},e}(),s=function(){function e(){}return e.prototype.componentDidLoad=function(){var e=this;setTimeout(function(){e.messaging=firebase.messaging()},300)},e.prototype.requestPerm=function(){var e=this;this.messaging.requestPermission().then(function(){console.log("Notification permission granted."),e.permission=!0}).catch(function(t){e.permission=!1,console.log("Unable to get permission to notify.",t)})},e.prototype.render=function(){var e=this;return!1===this.permission||void 0===this.permission?t("div",{c:{notifyBlock:!0}},t("p",0,n("Get notified on the latest top stories")),t("button",{c:{requestButton:!0},o:{click:function(){return e.requestPerm()}}},n("Get Notifications"))):t("div",{c:{notifyBlock:!0}},t("p",0,n("Stop getting notifications")),t("button",0,n("Unsubscribe")))},e}(),c=function(){function e(){this.offlineItems=[]}return e.prototype.componentWillLoad=function(){var e=this;setTimeout(function(){idbKeyval.get("offlineArticles").then(function(t){void 0!==t&&(e.offlineItems=t)})},100)},e.prototype.fakeFetch=function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.addEventListener("load",function(){t(JSON.parse(this.response))}),i.addEventListener("error",function(){n("error: "+this.statusText+" / "+this.status)}),i.open("GET",e,!0),i.send()})},e.prototype.fetchNews=function(e){var t=this;console.log(e),console.log(this.articleSrc),e.replace(/-/g," ")!==this.articleSrc&&(console.log("in here"),this.articleSrc=e.replace(/-/g," "),console.log("fetching"),this.fakeFetch("https://newsapi.org/v1/articles?source="+e+"&apiKey=3f03728668574e6794634e6244b18091").then(function(e){console.log(e.articles),t.sources=e.articles}))},e.prototype.open=function(e){window.open(e)},e.prototype.render=function(){var e=this;if(console.log("render",this.offlineItems),!this.sources&&this.offlineItems.length>0){var i=this.offlineItems.map(function(i){return t("div",{a:{id:"topCard"}},t("h3",0,i.title),t("p",{a:{id:"desc"}},i.description),t("div",{a:{id:"actions"}},t("button",{o:{click:function(){return e.open(i.url)}},a:{id:"readButton"}},n("Read"))))});return[t("app-header",0),t("main",{c:{content:!0}},t("h3",{a:{id:"topStories"}},n("Top Story")),t("div",{a:{id:"topCard"}},t("h3",0,n("Scientists are now using Wi-Fi to read human emotions")),t("p",{a:{id:"desc"}},n("Scientists at MIT are using Wi-Fi and AI to determine your emotional state. They've created an algorithm that can detect and measure individual heartbeats by bouncing RF signals off ...")),t("div",{a:{id:"actions"}},t("button",{o:{click:function(){return e.open("https://thenextweb.com/artificial-intelligence/2017/07/22/scientists-create-ai-that-uses-wi-fi-to-see-emotions/#.tnw_LXnzsXrt")}},a:{id:"readButton"}},n("Read")))),t("h3",{c:{newsProviders:!0}},n("More News")),t("div",{a:{id:"loadBlock"}},t("button",{c:{loadButton:!0},o:{click:function(){return e.fetchNews("the-next-web")}}},n("The Next Web")),t("button",{c:{loadButton:!0},o:{click:function(){return e.fetchNews("the-verge")}}},n("The Verge")),t("button",{c:{loadButton:!0},o:{click:function(){return e.fetchNews("engadget")}}},n("Engadget"))),t("div",{c:{loginBlock:!0}},t("app-login",0)),t("h3",{c:{newsProviders:!0}},n("Offline Articles")),t("div",{a:{id:"savedBlock"}},i))]}return this.sources||0!==this.offlineItems.length?[t("app-header",0),t("div",{a:{id:"sidebar"}},t("h3",0,n("Menu")),t("button",{o:{click:function(){return e.fetchNews("the-next-web")}}},n("Next Web")),t("button",{o:{click:function(){return e.fetchNews("engadget")}}},n("Engadget")),t("button",{o:{click:function(){return e.fetchNews("the-verge")}}},n("The Verge"))),t("h2",0,n("Top stories from "),this.articleSrc),t("app-list",{p:{articles:this.sources}}),t("div",{a:{id:"tabs"}},t("button",{o:{click:function(){return e.fetchNews("the-next-web")}}},n("Next Web")),t("button",{o:{click:function(){return e.fetchNews("engadget")}}},n("Engadget")),t("button",{o:{click:function(){return e.fetchNews("the-verge")}}},n("The Verge")))]:[t("app-header",0),t("main",{c:{content:!0}},t("h3",{a:{id:"topStories"}},n("Top Story")),t("div",{a:{id:"topCard"}},t("h3",0,n("Scientists are now using Wi-Fi to read human emotions")),t("p",{a:{id:"desc"}},n("Scientists at MIT are using Wi-Fi and AI to determine your emotional state. They've created an algorithm that can detect and measure individual heartbeats by bouncing RF signals off ...")),t("div",{a:{id:"actions"}},t("button",{o:{click:function(){return e.open("https://thenextweb.com/artificial-intelligence/2017/07/22/scientists-create-ai-that-uses-wi-fi-to-see-emotions/#.tnw_LXnzsXrt")}},a:{id:"readButton"}},n("Read")))),t("h3",{c:{newsProviders:!0}},n("More News")),t("div",{a:{id:"loadBlock"}},t("button",{c:{loadButton:!0},o:{click:function(){return e.fetchNews("the-next-web")}}},n("The Next Web")),t("button",{c:{loadButton:!0},o:{click:function(){return e.fetchNews("the-verge")}}},n("The Verge")),t("button",{c:{loadButton:!0},o:{click:function(){return e.fetchNews("engadget")}}},n("Engadget"))),t("div",{c:{loginBlock:!0}},t("app-login",0)),t("h3",{c:{newsProviders:!0}},n("Offline Articles")),t("div",{a:{id:"savedBlock"}},t("p",{a:{id:"noSaved"}},n("Save some articles for offline reading!"))))]},e}();e["APP-HEADER"]=r,e["APP-LOGIN"]=s,e["MAIN-PAGE"]=c},["APP-HEADER",{}],["APP-LOGIN",{},0,["messaging","permission"]],["MAIN-PAGE",{},0,["articleSrc","offlineItems","sources"]]);